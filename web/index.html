<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Session Hub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Darker+Grotesque:wght@700;900&family=Red+Hat+Mono:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/styles.css" />
    <script>
      try {
        var t = localStorage.getItem("session-hub-theme");
        if (t === "dark") document.documentElement.setAttribute("data-theme", "dark");
      } catch(e) {}
    </script>
  </head>
  <body>
    <main class="app-shell">
      <header class="topbar">
        <div>
          <p class="eyebrow">// community utility</p>
          <h1>Session Hub</h1>
          <p class="subline">Local batch management for CLI conversation history</p>
          <p id="config-info" class="muted"></p>
        </div>
        <div class="top-actions">
          <button id="theme-toggle" class="theme-toggle">Dark</button>
          <button id="refresh-all" class="btn ghost">Refresh</button>
          <button id="cleanup-expired" class="btn warning">Cleanup Expired Trash</button>
        </div>
      </header>

      <section class="notice" role="note">
        Unofficial community tool. Not affiliated with OpenAI, Anthropic, or Google.
      </section>

      <section id="feedback" class="feedback" aria-live="polite"></section>

      <nav class="tabs" role="tablist">
        <button id="tab-codex" class="tab active" role="tab" aria-selected="true">
          Codex
        </button>
        <button id="tab-claude" class="tab" role="tab" aria-selected="false">
          Claude
        </button>
        <button id="tab-gemini" class="tab" role="tab" aria-selected="false">
          Gemini
        </button>
        <button id="tab-trash" class="tab" role="tab" aria-selected="false">Trash</button>
      </nav>

      <section id="view-codex" class="card view">
        <div class="controls">
          <input id="codex-query" type="search" placeholder="Search Codex sessions" />
          <div class="state-filter">
            <button class="state-filter-btn active" data-filter="codex" data-state="all">All</button>
            <button class="state-filter-btn" data-filter="codex" data-state="active">Active</button>
            <button class="state-filter-btn" data-filter="codex" data-state="archived">Archived</button>
          </div>
          <button id="codex-select-filtered" class="btn ghost">Select Filtered</button>
          <button id="codex-clear-selection" class="btn ghost">Clear Selection</button>
        </div>

        <div class="batch-actions">
          <button id="codex-action-archive" class="btn primary">Archive</button>
          <button id="codex-action-unarchive" class="btn primary">Unarchive</button>
          <button id="codex-action-delete" class="btn danger">Move To Trash</button>
          <span id="codex-selection-meta" class="muted"></span>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th><input id="codex-check-all" type="checkbox" /></th>
                <th>Title</th>
                <th>State</th>
                <th>Thread</th>
                <th>Updated</th>
                <th>Size</th>
                <th>Relative Path</th>
              </tr>
            </thead>
            <tbody id="codex-body"></tbody>
          </table>
        </div>
      </section>

      <section id="view-claude" class="card view hidden">
        <div class="controls">
          <input id="claude-query" type="search" placeholder="Search Claude sessions" />
          <div class="state-filter">
            <button class="state-filter-btn active" data-filter="claude" data-state="all">All</button>
            <button class="state-filter-btn" data-filter="claude" data-state="active">Active</button>
            <button class="state-filter-btn" data-filter="claude" data-state="archived">Archived</button>
          </div>
          <button id="claude-select-filtered" class="btn ghost">Select Filtered</button>
          <button id="claude-clear-selection" class="btn ghost">Clear Selection</button>
        </div>

        <div class="batch-actions">
          <button id="claude-action-archive" class="btn primary">Archive</button>
          <button id="claude-action-unarchive" class="btn primary">Unarchive</button>
          <button id="claude-action-delete" class="btn danger">Move To Trash</button>
          <span id="claude-selection-meta" class="muted"></span>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th><input id="claude-check-all" type="checkbox" /></th>
                <th>Title</th>
                <th>State</th>
                <th>Project</th>
                <th>Branch</th>
                <th>Updated</th>
                <th>Size</th>
              </tr>
            </thead>
            <tbody id="claude-body"></tbody>
          </table>
        </div>
      </section>

      <section id="view-gemini" class="card view hidden">
        <div class="controls">
          <input id="gemini-query" type="search" placeholder="Search Gemini sessions" />
          <div class="state-filter">
            <button class="state-filter-btn active" data-filter="gemini" data-state="all">All</button>
            <button class="state-filter-btn" data-filter="gemini" data-state="active">Active</button>
            <button class="state-filter-btn" data-filter="gemini" data-state="archived">Archived</button>
          </div>
          <button id="gemini-select-filtered" class="btn ghost">Select Filtered</button>
          <button id="gemini-clear-selection" class="btn ghost">Clear Selection</button>
        </div>

        <div class="batch-actions">
          <button id="gemini-action-archive" class="btn primary">Archive</button>
          <button id="gemini-action-unarchive" class="btn primary">Unarchive</button>
          <button id="gemini-action-delete" class="btn danger">Move To Trash</button>
          <span id="gemini-selection-meta" class="muted"></span>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th><input id="gemini-check-all" type="checkbox" /></th>
                <th>Title</th>
                <th>State</th>
                <th>Project Hash</th>
                <th>Messages</th>
                <th>Updated</th>
                <th>Size</th>
              </tr>
            </thead>
            <tbody id="gemini-body"></tbody>
          </table>
        </div>
      </section>

      <section id="view-trash" class="card view hidden">
        <div class="controls">
          <input id="trash-query" type="search" placeholder="Search trash" />
          <button id="trash-select-filtered" class="btn ghost">Select Filtered</button>
          <button id="trash-clear-selection" class="btn ghost">Clear Selection</button>
        </div>

        <div class="batch-actions">
          <button id="action-restore" class="btn primary">Restore</button>
          <button id="action-purge" class="btn danger">Permanent Delete</button>
          <span id="trash-selection-meta" class="muted"></span>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th><input id="trash-check-all" type="checkbox" /></th>
                <th>Expired</th>
                <th>Source</th>
                <th>Thread</th>
                <th>Deleted At</th>
                <th>Expires At</th>
                <th>Size</th>
                <th>Original Path</th>
              </tr>
            </thead>
            <tbody id="trash-body"></tbody>
          </table>
        </div>
      </section>
    </main>

    <div id="confirm-modal" class="modal hidden" aria-hidden="true">
      <div id="confirm-backdrop" class="modal-backdrop"></div>
      <section
        class="modal-dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="confirm-title"
        aria-describedby="confirm-message"
      >
        <h2 id="confirm-title">Confirm</h2>
        <p id="confirm-message" class="modal-message"></p>
        <div class="modal-actions">
          <button id="confirm-cancel" class="btn ghost">Cancel</button>
          <button id="confirm-accept" class="btn danger">Confirm</button>
        </div>
      </section>
    </div>

    <script src="/app.js"></script>
  </body>
</html>
